<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<link rel="icon" href="/assets/images/logo.png">
<title>1X2S</title>
<link rel="stylesheet" href="/assets/css/core/global.css">
<link rel="stylesheet" href="/assets/css/core/fonts.css">
<link rel="stylesheet" href="/assets/css/pages/page-insights.css">
<link rel="stylesheet" href="/assets/css/components/index-webkit-mobile.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:wght@100" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@200" rel="stylesheet" />
<style>
  .parent-dropdowns.open {
    max-height: 5000px !important;
    opacity: 1 !important;
  }
</style>
</head>


<body>






<nav>
    <!-- Navbar / for pc devices -->
    <div id="navbar"></div>
    <script src="/assets/js/components/navbar.js"></script>
    <link rel="stylesheet" href="/assets/css/components/navbar.css">
</nav>
<mobilenav>
    <!-- Navbar / for mobile devices -->
    <div id="mobilenavbar"></div>
    <script src="/assets/js/components/mobile-navbar.js"></script>
    <link rel="stylesheet" href="/assets/css/components/mobile-navbar.css">
</mobilenav>  


<section id="section1">

  <h1>Weekly Insights</h1>
  <h3><span class="material-symbols-outlined">bolt</span>Powered by <b>LiteWS Sport</b> and Google <span>Gemini</span></h3>
  <p style="margin-top: 1.5rem; text-align: center; max-width: 800px; margin-left: auto; margin-right: auto;">
    Our insights leverage LiteWS technology to analyze user queries and detect intent, extracting contextual signals and determining time sensitivity. 
    Using modular retrieval engines including SearXNG, GDELT, DDGS, and Bing Search API, the system performs intelligent, query-driven crawling across websites, RSS feeds, and URLs to discover and extract relevant sports information. 
    Advanced ranking algorithms prioritize content based on relevance, credibility, and freshness, delivering results in multiple output modes optimized for different applications.
  </p>




</section>  




<section id="section2">



<div class="side-element-container__absolute">
    <iframe
      id="polymarket-iframe-primary"
      title="polymarket-market-iframe"
      src="https://embed.polymarket.com/market.html?market=will-arsenal-win-the-202526-english-premier-league&features=volume&theme=dark" 
      width="400"
      height="180"
      frameBorder="0"
    /></iframe> <!-- Dynamic -->
    <iframe
      title="polymarket-market-iframe"
    	src="https://embed.polymarket.com/market.html?market=will-arsenal-win-the-202526-champions-league&features=volume&theme=dark"
      width="400"
      height="180"
      frameBorder="0"
      background-color="0f0f0f"
    /></iframe>

    <a href="https://polymarket.com/" target="_blank" class="redirect__button" style="display: flex; align-items: center; gap: 8px; text-decoration: none;">
      <img src="/assets/images/logo-polymarket.png" alt="polymarket logo icon" style="width: 20px;">
      <span>polymarket.com</span><span class="material-symbols-outlined">arrow_outward</span>
    </a>
</div>

<style>
  @keyframes fadeInOut {
    0% { opacity: 1; }
    50% { opacity: 0.3; }
    100% { opacity: 1; }
  }
  
  #polymarket-iframe-primary.cycling {
    animation: fadeInOut 0.6s ease-in-out;
  }
</style>

<script>
// ========== POLYMARKET IFRAME CYCLER ==========

// Configurable market list - add or remove market IDs as needed
const POLYMARKET_MARKETS = [
  'will-arsenal-win-the-202526-english-premier-league',
  'will-manchester-city-win-the-202526-english-premier-league',
  'will-aston-villa-win-the-202526-english-premier-league',
  'will-manchester-united-win-the-202526-english-premier-league',
  'will-liverpool-win-the-202526-english-premier-league'
];

// Configuration
const ROTATION_INTERVAL_MS = 8000; // Rotate every 8 seconds
let currentMarketIndex = 0;

function updateIframeSrc() {
  const iframe = document.getElementById('polymarket-iframe-primary');
  if (!iframe) return;
  
  // Add animation class
  iframe.classList.add('cycling');
  
  // Change src mid-animation
  setTimeout(() => {
    const market = POLYMARKET_MARKETS[currentMarketIndex % POLYMARKET_MARKETS.length];
    const newSrc = `https://embed.polymarket.com/market.html?market=${market}&features=volume&theme=dark`;
    iframe.src = newSrc;
    currentMarketIndex = (currentMarketIndex + 1) % POLYMARKET_MARKETS.length;
  }, 300);
  
  // Remove animation class after animation completes
  setTimeout(() => {
    iframe.classList.remove('cycling');
  }, 600);
}

function initializeIframeRotation() {
  // Initial update
  updateIframeSrc();
  
  // Set up recurring rotation
  setInterval(updateIframeSrc, ROTATION_INTERVAL_MS);
}

// Start rotation when DOM is ready
document.addEventListener("DOMContentLoaded", function() {
  initializeIframeRotation();
});
</script>


  <div class="section-content-body">



<div class="button-carousel-wrapper">
  <div class="button-carousel" id="button-carousel">
  </div>
</div>

<script>
function centerButton(btn) {
  const wrapper = document.querySelector('.button-carousel-wrapper');
  const btnRect = btn.getBoundingClientRect();
  const wrapperRect = wrapper.getBoundingClientRect();
  const btnCenter = btnRect.left + btnRect.width / 2;
  const wrapperCenter = wrapperRect.left + wrapperRect.width / 2;
  const scrollOffset = btnCenter - wrapperCenter;
  wrapper.scrollBy({
    left: scrollOffset,
    behavior: "smooth"
  });
  document.querySelectorAll('.card-button').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
}

function generateButtonCarousel(carouselData) {
  const buttonCarousel = document.getElementById('button-carousel');
  buttonCarousel.innerHTML = ''; // Clear existing buttons
  
  carouselData.forEach((data, index) => {
    const button = document.createElement('button');
    button.className = 'card-button' + (index === carouselData.length - 1 ? ' active' : '');
    button.dataset.card = index;
    button.textContent = data.title;
    buttonCarousel.appendChild(button);
  });
  
  // Don't attach listeners here - will be done after cards are rendered
}

function attachButtonListeners() {
  const buttons = document.querySelectorAll('.card-button');
  
  buttons.forEach((btn) => {
    btn.addEventListener('click', function() {
      const cardIndex = parseInt(btn.dataset.card);
      const cards = document.querySelectorAll('.carousel-card');
      centerButton(btn);
      if (cards[cardIndex]) centerCard(cards[cardIndex]);
    });
  });
  
  // Center the latest (last) button and card on load
  const lastIndex = buttons.length - 1;
  if (buttons[lastIndex]) {
    centerButton(buttons[lastIndex]);
    const cards = document.querySelectorAll('.carousel-card');
    if (cards[lastIndex]) centerCard(cards[lastIndex]);
  }
}
</script>
<!-- ...existing code... -->







<div class="carousel-container" id="carousel-container">
  <div class="carousel" id="carousel">
    <!-- Carousel cards will be dynamically loaded here -->
  </div>
</div>

<script>
// ========== DYNAMIC CAROUSEL LOADER ==========

async function loadCarouselData() {
  try {
    const response = await fetch('/api/carousel/insights');
    
    if (!response.ok) {
      throw new Error(`API responded with status: ${response.status}`);
    }
    
    const result = await response.json();
    
    if (!result.success || !result.data) {
      throw new Error('Invalid API response format');
    }
    
    // Generate buttons from carousel data
    generateButtonCarousel(result.data);
    
    // Render carousel cards
    renderCarouselCards(result.data);
    
    // Attach button listeners now that cards exist
    attachButtonListeners();
    
    // Initialize interactions
    initializeCarouselInteractions();
    
  } catch (error) {
    console.error('Error loading carousel data:', error);
    // Fallback: show error message
    document.getElementById('carousel').innerHTML = `
      <div class="carousel-card" style="padding: 2rem; text-align: center;">
        <p>Unable to load insights data. Please try refreshing the page.</p>
      </div>
    `;
  }
}

function renderCarouselCards(data) {
  const carousel = document.getElementById('carousel');
  carousel.innerHTML = ''; // Clear placeholder
  
  data.forEach((cardData, index) => {
    const cardElement = document.createElement('div');
    cardElement.className = 'carousel-card' + (index === data.length - 1 ? ' centered' : '');
    cardElement.dataset.index = index;
    cardElement.dataset.cardId = cardData.id;
    
    // Format date if it exists
    const dateStr = cardData.date ? new Date(cardData.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) : '';
    
    // Handle hierarchical structure with parents
    let parentsHTML = '';
    if (cardData.parents && cardData.parents.length > 0) {
      parentsHTML = cardData.parents.map((parent) => {
        const dropdownsHTML = parent.dropdowns && parent.dropdowns.length > 0
          ? parent.dropdowns.map((dropdown) => {
              const competitionInfo = dropdown.competition_name ? `
                <div style="display: flex; align-items: center; gap: 8px; flex-direction:row;">
                  ${dropdown.competition_icon ? `<img src="/assets/images/league-icons/${dropdown.competition_icon}" alt="${dropdown.competition_name}" style="height: 20px; width: auto; border-radius: 2px;" onerror="this.style.display='none'">` : '<span style="font-size: 1em;"><span class="material-symbols-outlined">trophy</span></span>'}
                  <span class="dropdown-context__info">${dropdown.competition_name}</span>
                </div>
              ` : '';
              
              const locationInfo = dropdown.location ? `<div class="dropdown-datetime__content"><a>${dropdown.location}</a></div>` : '';
              const timeInfo = dropdown.gmt_time ? `<div class="dropdown-datetime__content"><a>${dropdown.gmt_time} GMT</a></div>` : '';
              const stateClass = dropdown.state ? `state-${dropdown.state}` : 'state-open';
              const stateLabel = dropdown.state === 'win' ? '✓ Win' : dropdown.state === 'loss' ? '✕ Loss' : dropdown.state === 'void' ? '○ Void' : '○ Open';
              const stateBadgeColor = dropdown.state === 'win' ? '#22c55e' : dropdown.state === 'loss' ? '#ef4444' : dropdown.state === 'void' ? '#6b7280' : '#3b82f6';
              const effectiveOdds = dropdown.state === 'void' ? '1.0' : dropdown.total_odds;
              
              return `
                <div class="dropdown-section ${stateClass}" style="border-radius: 8px; margin-bottom: 12px;">
                  <button class="dropdown-toggle" onclick="toggleDropdown(event)">
                      ${dropdown.competition_icon ? `<img src="/assets/images/league-icons/${dropdown.competition_icon}" alt="${dropdown.competition_name}" style="height: 30px; width: auto; border-radius: 2px;" onerror="this.style.display='none'">` : '<span style="font-size: 1em;"><span class="material-symbols-outlined">trophy</span></span>'}
                    <span class="dropdown-header"><h1>${dropdown.header}</h1><h2>${dropdown.subheader || ''}</h2></span>
                    <span class="dropdown-subheader"><h1 style="color: ${stateBadgeColor}; font-weight: 600;">${stateLabel}${effectiveOdds ? ` @ ${effectiveOdds}` : ''}</h1></span>
                  </button>
                  <div class="dropdown-content" style="display: none;">
                    <div class="dropdown-info">
                      <div class="dropdown-context__info">
                        <div class="dropdown-context__league">
                          <span class="dropdown-context__info">${dropdown.competition_name}</span>
                        </div>
                        <div class="dropdown-datetime__display">${locationInfo}${timeInfo}</div>
                      </div>
                      <p class="dropdown-text">${dropdown.text || ''}</p>
                      ${effectiveOdds ? `<p class="dropdown-subtext" style="font-weight: 600; color: ${stateBadgeColor};">Total Odds: ${effectiveOdds} | Status: ${stateLabel}</p>` : ''}
                      ${dropdown.link ? `<div style="margin-top: 8px;"><a href="${dropdown.link}" target="_blank" class="details-text__link">View Match Details <span class="material-symbols-outlined">open_in_new</span></a></div>` : ''}
                    </div>
                  </div>
                </div>
              `;
            }).join('')
          : '';
        
        // Calculate parent state based on dropdown states
        let parentState = 'open';
        if (parent.dropdowns && parent.dropdowns.length > 0) {
          const states = parent.dropdowns.map(d => d.state || 'open');
          const nonVoidStates = states.filter(state => state !== 'void');
          // Any bet marked as "lost" = automatically mark parent section as "lost"
          if (nonVoidStates.length === 0 && states.includes('void')) {
            parentState = 'void';
          }
          if (parentState !== 'void' && nonVoidStates.includes('loss')) {
            parentState = 'loss';
          }
          // Won/open with at least 1 open = parent section is "open"
          else if (parentState !== 'void' && nonVoidStates.includes('open')) {
            parentState = 'open';
          }
          // All bets are won = parent section is "won"
          else if (parentState !== 'void' && nonVoidStates.length > 0 && nonVoidStates.every(s => s === 'win')) {
            parentState = 'win';
          }
        }
        
        const parentStateLabel = parentState === 'win' ? '✓ Won' : parentState === 'loss' ? '✕ Lost' : parentState === 'void' ? '○ Void' : '○ Open';
        const parentStateBadgeColor = parentState === 'win' ? '#22c55e' : parentState === 'loss' ? '#ef4444' : parentState === 'void' ? '#6b7280' : '#3b82f6';
        
        // Calculate combined odds
        let combinedOdds = 1.0;
        if (parent.odds_mode === 'manual' && parent.total_odds) {
          combinedOdds = parseFloat(parent.total_odds);
        } else if (parent.dropdowns && parent.dropdowns.length > 0) {
          // Auto mode: multiply all dropdown odds
          parent.dropdowns.forEach(d => {
            const odds = parseFloat(d.total_odds || '1.0');
            if (!isNaN(odds) && odds > 0) {
              combinedOdds *= odds;
            }
          });
        }
        
        return `
          <div class="parent-section state-${parentState}" style="margin-bottom: 20px; padding: 5px; border-radius: 12px;">
            ${parent.title || parent.text ? `
              <div class="parent-header" onclick="toggleParentSection(event)" style="cursor: pointer; display: flex; align-items: center; gap: 8px;">
                <span class="parent-arrow"><span class="material-symbols-outlined">unfold_more</span></span>
                <div style="flex: 1;">
                  ${parent.title ? `<h1 style="margin: 0; display: inline-block;">${parent.title} @ ${combinedOdds.toFixed(2)}</h1>` : ''}
                  ${parent.text ? `<h2 style="margin: 0;">${parent.text}</h2>` : ''}
                </div>
                <span style="display: inline-flex; align-items: center; gap: 4px; padding: 6px 12px; border-radius: 12px; font-size: 0.75em; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; background: ${parentStateBadgeColor}15; color: ${parentStateBadgeColor}; border: 1px solid ${parentStateBadgeColor}30;">${parentStateLabel}</span>
                <span style="display: inline-flex; align-items: center; gap: 4px; padding: 6px 12px; border-radius: 12px; font-size: 0.75em; font-weight: 700; background: rgba(59, 130, 246, 0.15); color: #3b82f6; border: 1px solid rgba(59, 130, 246, 0.3);">@ ${combinedOdds.toFixed(2)}</span>
                  <a href="https://www.betmgm.com/" target="_blank" rel="noopener noreferrer"><img src="/assets/images/logo-betmgm.png" alt="BetMGM" style="width:40px; height: 40px;"></a>
                </div>
            ` : ''}
            <div class="parent-dropdowns" style="max-height: 0; overflow: hidden; opacity: 0; transition: max-height 0.4s ease, opacity 0.3s ease;">
              ${dropdownsHTML}

            </div>

          </div>
        `;
      }).join('');
    } else if (cardData.dropdowns && cardData.dropdowns.length > 0) {
      // Fallback: old flat structure
      parentsHTML = cardData.dropdowns.map((dropdown) => {
        const competitionInfo = dropdown.competition_name ? `
          <div style="display: flex; align-items: center; gap: 8px; flex-direction:row;">
            ${dropdown.competition_icon ? `<img src="/assets/images/league-icons/${dropdown.competition_icon}" alt="${dropdown.competition_name}" style="height: 20px; width: auto; border-radius: 2px;" onerror="this.style.display='none'">` : '<span style="font-size: 1em; color:white;"><span class="material-symbols-outlined">trophy</span></span>'}
            <span class="dropdown-context__info">${dropdown.competition_name}</span>
          </div>
        ` : '';
        
        const locationInfo = dropdown.location ? `<div class="dropdown-datetime__content"><a>${dropdown.location}</a></div>` : '';
        const timeInfo = dropdown.gmt_time ? `<div class="dropdown-datetime__content"><a>${dropdown.gmt_time} GMT</a></div>` : '';
        const stateClass = dropdown.state ? `state-${dropdown.state}` : 'state-open';
        const stateLabel = dropdown.state === 'win' ? '✓ Win' : dropdown.state === 'loss' ? '✕ Loss' : dropdown.state === 'void' ? '○ Void' : '○ Open';
        const stateBadgeColor = dropdown.state === 'win' ? '#22c55e' : dropdown.state === 'loss' ? '#ef4444' : dropdown.state === 'void' ? '#6b7280' : '#3b82f6';
        const effectiveOdds = dropdown.state === 'void' ? '1.0' : dropdown.total_odds;
        
        return `
          <div class="dropdown-section ${stateClass}" style="border-radius: 8px; margin-bottom: 12px;">
            <button class="dropdown-toggle" onclick="toggleDropdown(event)">
              <span class="dropdown-subheader" style="color: ${stateBadgeColor};">${stateLabel}${effectiveOdds ? ` @ ${effectiveOdds}` : ''}</span><span class="dropdown-header">${dropdown.header}</span>
            </button>
            <div class="dropdown-content" style="display: none;">
              <div class="dropdown-info">
                <div class="dropdown-context__info">
                  <div class="dropdown-context__league">
                    <h1>${competitionInfo}</h1>
                  </div>
                  <div class="dropdown-datetime__display">${locationInfo}${timeInfo}</div>
                </div>
                <p class="dropdown-text">${dropdown.text || ''}</p>
                ${effectiveOdds ? `<p class="dropdown-subtext" style="font-weight: 600; color: ${stateBadgeColor};">Total Odds: ${effectiveOdds} | Status: ${stateLabel}</p>` : ''}
                ${dropdown.link ? `<div style="margin-top: 8px;"><a href="${dropdown.link}" target="_blank" class="details-text__link">View Match Details <span class="material-symbols-outlined">open_in_new</span></a></div>` : ''}
              </div>
            </div>
          </div>
        `;
      }).join('');
    }
    
    cardElement.innerHTML = `
      <div class="card-header-meta">
        <span class="card-date">${dateStr}</span>
        <span class="card-id">${cardData.id}</span>
      </div>
      
      <div class="card-title-section">
        <h1 class="card-title">${cardData.title || 'Untitled'}</h1>
        <p class="card-subtitle">${cardData.subtitle || ''}</p>
        <p class="card-description">${cardData.description || ''}</p>
      </div>
      
      <div class="card-dropdowns">
        ${parentsHTML}
      </div>
    `;
    
    carousel.appendChild(cardElement);
  });
}

function toggleParentSection(event) {
  const header = event.currentTarget;
  const parentSection = header.closest('.parent-section');
  const content = parentSection.querySelector('.parent-dropdowns');
  const arrow = header.querySelector('.parent-arrow .material-symbols-outlined');
  const isOpen = content.classList.contains('open');
  
  if (isOpen) {
    content.classList.remove('open');
    arrow.textContent = 'unfold_more';
  } else {
    content.classList.add('open');
    arrow.textContent = 'unfold_less';
  }
}

function toggleDropdown(event) {
  const button = event.currentTarget;
  const content = button.nextElementSibling;
  const isOpen = content.style.display !== 'none';
  
  // Close all dropdowns
  document.querySelectorAll('.dropdown-content').forEach(el => el.style.display = 'none');
  document.querySelectorAll('.dropdown-arrow').forEach(el => el.style.transform = 'rotate(0deg)');
  
  // Open this dropdown if it wasn't open
  if (!isOpen) {
    content.style.display = 'block';
    button.querySelector('.dropdown-arrow').style.transform = 'rotate(180deg)';
  }
}

function centerCard(card) {
  const container = document.getElementById("carousel-container");
  const cardRect = card.getBoundingClientRect();
  const containerRect = container.getBoundingClientRect();

  const cardCenter = cardRect.left + cardRect.width / 2;
  const containerCenter = containerRect.left + containerRect.width / 2;

  const scrollOffset = cardCenter - containerCenter;

  container.scrollBy({
    left: scrollOffset,
    behavior: "smooth"
  });

  // Highlight the centered card
  document.querySelectorAll('.carousel-card').forEach(c => c.classList.remove('centered'));
  card.classList.add('centered');
}

function initializeCarouselInteractions() {
  // Attach button listeners (already done in attachButtonListeners called by generateButtonCarousel)
  // Setup dropdowns if the function exists
  if (typeof setupDropdowns === 'function') {
    setupDropdowns();
  }
}

// Load carousel data when DOM is ready
document.addEventListener("DOMContentLoaded", function() {
  loadCarouselData();
});
</script>

</section>





<section id="section4">

  <p>Under the discretion of bookmakers, all insights provided are for informational purposes only. 1X2S holds no responsibility for any betting decisions made based on the insights presented on this platform.</p>
  <p>Bookmaker odds and/or markets may vary and are subject to change without notice. Displayed odds are correct at the time of publication but may change subsequently.</p>
  <p>1X2S is not affiliated with the brands or organizations featured on this platform. All product names, logos, and brands are property of their respective owners.</p>

</section>




  <button id="scroll-to-top">Back to Top</button>
  <link rel="stylesheet" href="/assets/css/components/back-to-top.css">
  <script src="/assets/js/components/back-to-top.js"></script>



  <div id="footer-container"></div>
  <script src="/assets/js/components/footer.js"></script>
  <link rel="stylesheet" href="/assets/css/components/footer.css">




</body>
</html>



